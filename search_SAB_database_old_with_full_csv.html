% include("bootstrap_links.html")
<% 
  from bottle import url
  view_recipient_detail_url=url("/view_recipient_detail")
%>


<div class="main">

 
<h1 style="grid-area: head;">Renal Transplant - IKDRC , Diseased Kidney Donor - Recipient matching</h1>

<button type=button class="btn btn-block btn-primary d-inline-block " data-toggle="collapse" data-target="#donor_information" style="grid-area: menu;" >Donor Information</button>
<div id="donor_information" class="collapse" style="grid-area: data;">
  <table class="table table-sm table-striped  table-hover table-bordered border-danger">
  <tr><th colspan=2 class=text-center>Diseased Donor Details</th></tr>
  <tr><th>Field</th><th>Value</th></tr>
  %for key in donor_data:
    <tr>
      <td>{{key}}</td><td>{{donor_data[key]}}</td>
    </tr>
  %end
  </table>
</div>







<button type=button class="btn btn-block btn-primary d-inline-block" data-toggle="collapse" data-target="#abo_rh" style="grid-area: menu;"  >Matching ABO/Rh recipients</button>
<div id="abo_rh" class="collapse" style="grid-area: data;">
  <table class="table table-sm table-striped  table-hover table-bordered border-primary">
  <tr><th colspan=4 class=text-center>ABO Matched Recipient List</th></tr>
  <tr><th>Recipient ID</th><th>ABO</th><th>Rh</th><th>Name</th></tr>
  %for one_raw in recipient_data:
    % if len(one_raw)>0:
      % if(len(one_raw)>0):
        <tr>
          %for one_cell in one_raw:
          <td>{{one_cell}}</td>
          %end
        </tr>
      %end
    %end
  %end
  </table>
</div>






<button type=button class="btn btn-block btn-primary" data-toggle="collapse" data-target="#pt_csv_1" style="grid-area: menu;"  >Full Class-I antibody Report - ABO/Rh Matched Recipient</button>
<div id="pt_csv_1" class="collapse" style="grid-area: data;">
%for patient_antibodies_data in all_ABO_matched_recipient_data_1:
  % if len(patient_antibodies_data)!=0:
    <table class="table table-sm table-striped table-bordered table-hover table-striped">
    <tr><th colspan=3 class="bg-warning">ABO Matched Recipient's Class-I Antibody details (if Available in database)</tr>
    <tr><th>Patient ID</th><th>Batch ID</th><th>Line</th></tr>
        %for one_raw in patient_antibodies_data:
          <tr>
            %for one_cell in one_raw:
            <td>{{one_cell}}</td>
            %end
          </tr>
        %end
    </table>
  % end

  <!-- % if len(patient_antibodies_data)==0:       <tr><td colspan=4>No recipient HLA antibodies data found</td></tr>  % end -->
%end
</div>

<button type=button class="btn btn-block btn-primary" data-toggle="collapse" data-target="#pt_csv_2" style="grid-area: menu;"  >Full Class-II antibody Report - ABO/Rh Matched Recipient</button>
<div id="pt_csv_2" class="collapse" style="grid-area: data;">
%for patient_antibodies_data in all_ABO_matched_recipient_data_2:
  % if len(patient_antibodies_data)!=0:
    <table class="table table-sm table-striped table-bordered table-hover table-striped">
    <tr><th colspan=3 class="bg-warning">ABO Matched Recipient's Class-II Antibody details (if Available in database)</tr>
    <tr><th>Patient ID</th><th>Batch ID</th><th>Line</th></tr>
        %for one_raw in patient_antibodies_data:
          <tr>
            %for one_cell in one_raw:
            <td>{{one_cell}}</td>
            %end
          </tr>
        %end
    </table>
  % end

  <!-- % if len(patient_antibodies_data)==0:       <tr><td colspan=4>No recipient HLA antibodies data found</td></tr>  % end -->
%end
</div>



<button type=button class="btn btn-block btn-primary" data-toggle="collapse" data-target="#mfi_1" style="grid-area: menu;"  >Donor Matched Class-I antibody Report - ABO/Rh Matched Recipient</button>
<div id="mfi_1" class="collapse" style="grid-area: data;">
  
<table class="table table-sm table-striped table-bordered table-hover table-striped">
<tr><th colspan=3 class="bg-warning">Donor Matched HLA CLASS I antibody MFI for Recipients ( Recipients are ABO Matched )</th></tr>
<tr><th colspan=24 class="text-center  bg-danger">Donor Details</th><th colspan=24 class="text-center  bg-primary">Recipient Antibodies</th><td></td></tr>
  <tr>
    <td>Patient ID</td>
    <td>Name</td>
    <td>ABO</td>
    <td>Rh</td>
    <td>HLA-A</td>
    <td>HLA-A</td>
    <td>HLA-B</td>
    <td>HLA-B</td>    
    <td>HLA-Bw</td>
    <td>HLA-Bw</td>
    <td>HLA-Cw</td>
    <td>HLA-Cw</td>    
    <td>HLA-DRB1</td>
    <td>HLA-DRB1</td>
    <td>HLA-DRB3</td>
    <td>HLA-DRB3</td>    
    <td>HLA-DRB4</td>
    <td>HLA-DRB4</td>
    <td>HLA-DRB5</td>
    <td>HLA-DRB5</td>    
    <td>HLA-DQA1</td>
    <td>HLA-DQA1</td>
    <td>HLA-DQB1</td>
    <td>HLA-DQB1</td>
    
    
  
    <td>Patient ID</td>
    <td>Batch Id</td>
    <td>Line</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>    
    <td>Antigen ID</td>
    <td></td>
    <td></td>
    <td></td>    
    <td></td>
    <td>Cut-off</td>
    <td></td>
    <td></td>    
    <td></td>
    <td class="bg-Danger">Raw Value</td>
    <td>MFI/LRA</td>
    <td></td>    
    <td></td>
    <td>BG Adjusted</td>
    <td>AD-MFI</td>
    <td>HLA-DQB1</td>
  </tr>    
  
%for one_raw in all_mfi_ABO_matched_recipient_data_1:
% if(len(one_raw)>0):
  <tr>
    %for one_cell in one_raw:
    <td>{{one_cell}}</td>
    %end
  </tr>
%end
%end
</table>
</div>


<button type=button class="btn btn-block btn-primary" data-toggle="collapse" data-target="#mfi_2" style="grid-area: menu;"  >Donor Matched Class-I antibody Report - ABO/Rh Matched Recipient</button>
<div id="mfi_2" class="collapse" style="grid-area: data;">
  
<table class="table table-sm table-striped table-bordered table-hover table-striped">
<tr><th colspan=3 class="bg-warning">Donor Matched HLA CLASS II antibody MFI for Recipients ( Recipients are ABO Matched )</th></tr>
%for one_raw in all_mfi_ABO_matched_recipient_data_2:
  %if(len(one_raw)>0):
    <tr>
      %for one_cell in one_raw:
      <td>{{one_cell}}</td>
      %end
    </tr>
  %end
%end
</table>
</div>


</div>

